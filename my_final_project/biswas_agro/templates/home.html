{% extends 'master.html' %}
{% block body %}

<h1>Welcome to Biswas Agro</h1>
<h4>Data Management System</h4>

<div class="container mt-5">
    <div class="row">
        <!-- London -->
        <div class="col-md-6">
            <div class="datetime p-3 rounded shadow mt-3 mb-4 london">
                <div class="h5 text-white mb-2">London</div>
                <div class="time display-4 text-secondary fw-bold"></div>
                <div class="date h4 text-white mt-2"></div>
            </div>
            <a class="weatherwidget-io" href="https://forecast7.com/en/51d51n0d13/london/" data-label_1="LONDON"
                data-label_2="WEATHER" data-theme="weather_one">LONDON WEATHER</a>
        </div>

        <!-- Bangladesh -->
        <div class="col-md-6">
            <div class="datetime p-3 rounded shadow mt-3 mb-4 bangladesh">
                <div class="h5 text-white mb-2">Bangladesh</div>
                <div class="time display-4 text-secondary fw-bold"></div>
                <div class="date h4 text-white mt-2"></div>
            </div>
            <a class="weatherwidget-io" href="https://forecast7.com/en/23d6890d36/bangladesh/" data-label_1="BANGLADESH"
                data-label_2="WEATHER" data-theme="weather_one">BANGLADESH WEATHER</a>
        </div>
    </div>

    <script>
        function updateClock(selector, timeZone) {
            const timeEl = document.querySelector(selector + ' .time');
            const dateEl = document.querySelector(selector + ' .date');

            function format() {
                const now = new Date();
                const optionsTime = { hour: '2-digit', minute: '2-digit', hour12: true, timeZone };
                const optionsDate = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone };

                timeEl.textContent = new Intl.DateTimeFormat('en-GB', optionsTime).format(now);
                dateEl.textContent = new Intl.DateTimeFormat('en-GB', optionsDate).format(now);
            }

            setInterval(format, 1000);
            format();
        }

        updateClock('.london', 'Europe/London');
        updateClock('.bangladesh', 'Asia/Dhaka');
    </script>

    <div class="col-md-6">
        <script>
            !function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (!d.getElementById(id)) {
                    js = d.createElement(s); js.id = id;
                    js.src = 'https://weatherwidget.io/js/widget.min.js';
                    fjs.parentNode.insertBefore(js, fjs);
                }
            }(document, 'script', 'weatherwidget-io-js');
        </script>

    </div>
</div>
</div>
{% endblock %}